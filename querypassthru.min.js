var querypassthru={apply:function(e={}){if(location.search){let s=new URLSearchParams(location.search);for(let t of document.links){if(e.classes&&e.classes.length){let s=!1;for(let a of e.classes)if(t.classList.contains(a)){s=!0;break}if(!s)continue}if(e.hosts&&e.hosts.length&&!e.hosts.includes(t.host))continue;let a=new URL(t.href);if(e.parameters){for(let l of s)if(e.parameters[l[0]]){let r=oldKey=l[0],o=oldVal=l[1],f=e.parameters[l[0]];if(f.setKey&&(r="function"==typeof f.setKey?f.setKey(oldKey,oldVal,s):f.setKey),r){if(f.setValue&&(o="function"==typeof f.setValue?f.setValue(oldKey,oldVal,s):f.setValue),f.overwriteQuery){t.href.indexOf("?")>0&&(a=new URL(t.href.substring(0,t.href.indexOf("?")))),a.searchParams.set(r,o);break}a.searchParams.set(r,o)}}}else if(e.setKey&&e.setValue){let l=oldKey="",r=oldVal="";if(l="function"==typeof e.setKey?e.setKey(oldKey,oldVal,s):e.setKey){if(e.setValue&&(r="function"==typeof e.setValue?e.setValue(oldKey,oldVal,s):e.setValue),e.overwriteQuery){t.href.indexOf("?")>0&&(a=new URL(t.href.substring(0,t.href.indexOf("?")))),a.searchParams.set(l,r);break}a.searchParams.set(l,r)}}else for(let e of s)a.searchParams.set(...e);t.href=a.toString()}}}};